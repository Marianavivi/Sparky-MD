const _0x4f6028=_0x4626;(function(_0x17ace6,_0x15ac84){const _0x26fd03=_0x4626,_0x222b58=_0x17ace6();while(!![]){try{const _0x44699b=-parseInt(_0x26fd03(0x1e4))/0x1+parseInt(_0x26fd03(0x1e8))/0x2*(parseInt(_0x26fd03(0x1e5))/0x3)+-parseInt(_0x26fd03(0x201))/0x4+-parseInt(_0x26fd03(0x1fb))/0x5+-parseInt(_0x26fd03(0x1e0))/0x6+parseInt(_0x26fd03(0x1ee))/0x7+parseInt(_0x26fd03(0x1d7))/0x8*(parseInt(_0x26fd03(0x1dc))/0x9);if(_0x44699b===_0x15ac84)break;else _0x222b58['push'](_0x222b58['shift']());}catch(_0x1ca163){_0x222b58['push'](_0x222b58['shift']());}}}(_0x5cb8,0x50f27));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x4f6028(0x1fa)),ff=require(_0x4f6028(0x1ea)),webp=require(_0x4f6028(0x200)),path=require('path');async function imageToWebp(_0x517be7){const _0x3be929=_0x4f6028,_0x2968f8=path['join'](tmpdir(),Crypto[_0x3be929(0x1f3)](0x6)['readUIntLE'](0x0,0x6)[_0x3be929(0x1ff)](0x24)+_0x3be929(0x1f6)),_0x164335=path[_0x3be929(0x1da)](tmpdir(),Crypto[_0x3be929(0x1f3)](0x6)['readUIntLE'](0x0,0x6)[_0x3be929(0x1ff)](0x24)+_0x3be929(0x1f0));fs['writeFileSync'](_0x164335,_0x517be7),await new Promise((_0x490e5a,_0xee8d56)=>{const _0xd3c626=_0x3be929;ff(_0x164335)['on'](_0xd3c626(0x209),_0xee8d56)['on']('end',()=>_0x490e5a(!![]))[_0xd3c626(0x1f2)]([_0xd3c626(0x1f7),_0xd3c626(0x1dd),_0xd3c626(0x1e1),_0xd3c626(0x1e2)])[_0xd3c626(0x1f8)]('webp')[_0xd3c626(0x1f4)](_0x2968f8);});const _0x455918=fs[_0x3be929(0x1d6)](_0x2968f8);return fs['unlinkSync'](_0x2968f8),fs[_0x3be929(0x1e6)](_0x164335),_0x455918;}function _0x5cb8(){const _0x14c224=['-vf','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','packname','442369TLsfzl','2331jONpCY','unlinkSync','concat','774kboFWk','writeUIntLE','fluent-ffmpeg','utf-8','default','data','1129142yjDKIr','00:00:00','.jpg','writeFileSync','addOutputOptions','randomBytes','save','Image','.webp','-vcodec','toFormat','categories','crypto','1928240liytvf','webp','load','-preset','toString','node-webpmux','1602192RVgWPk','readUIntLE','-vsync','author','from','https://github.com/nazedev/naze','00:00:05','length','error','exif','readFileSync','120QIFwnR','-loop','stringify','join','-an','866853DEpIuj','libwebp','test','mimetype','2079816mvaSfX'];_0x5cb8=function(){return _0x14c224;};return _0x5cb8();}function _0x4626(_0x464c9a,_0x632f32){const _0x5cb834=_0x5cb8();return _0x4626=function(_0x46264a,_0x3382c8){_0x46264a=_0x46264a-0x1d5;let _0x593e39=_0x5cb834[_0x46264a];return _0x593e39;},_0x4626(_0x464c9a,_0x632f32);}async function videoToWebp(_0x4be1bb){const _0x5304da=_0x4f6028,_0x3cf105=path[_0x5304da(0x1da)](tmpdir(),Crypto[_0x5304da(0x1f3)](0x6)[_0x5304da(0x202)](0x0,0x6)[_0x5304da(0x1ff)](0x24)+_0x5304da(0x1f6)),_0x438de3=path[_0x5304da(0x1da)](tmpdir(),Crypto[_0x5304da(0x1f3)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+'.mp4');fs[_0x5304da(0x1f1)](_0x438de3,_0x4be1bb),await new Promise((_0x532211,_0x29fba3)=>{const _0x535942=_0x5304da;ff(_0x438de3)['on']('error',_0x29fba3)['on']('end',()=>_0x532211(!![]))[_0x535942(0x1f2)]([_0x535942(0x1f7),_0x535942(0x1dd),_0x535942(0x1e1),_0x535942(0x1e2),_0x535942(0x1d8),'0','-ss',_0x535942(0x1ef),'-t',_0x535942(0x207),_0x535942(0x1fe),_0x535942(0x1ec),_0x535942(0x1db),_0x535942(0x203),'0'])[_0x535942(0x1f8)](_0x535942(0x1fc))[_0x535942(0x1f4)](_0x3cf105);});const _0x40f7ae=fs[_0x5304da(0x1d6)](_0x3cf105);return fs[_0x5304da(0x1e6)](_0x3cf105),fs[_0x5304da(0x1e6)](_0x438de3),_0x40f7ae;}async function writeExifImg(_0x3a0e7c,_0xd87af4){const _0x7accea=_0x4f6028;let _0x50496a=await imageToWebp(_0x3a0e7c);const _0x2fb74d=path[_0x7accea(0x1da)](tmpdir(),Crypto[_0x7accea(0x1f3)](0x6)[_0x7accea(0x202)](0x0,0x6)[_0x7accea(0x1ff)](0x24)+'.webp'),_0x2e9a9c=path[_0x7accea(0x1da)](tmpdir(),Crypto[_0x7accea(0x1f3)](0x6)[_0x7accea(0x202)](0x0,0x6)[_0x7accea(0x1ff)](0x24)+_0x7accea(0x1f6));fs[_0x7accea(0x1f1)](_0x2fb74d,_0x50496a);if(_0xd87af4[_0x7accea(0x1e3)]||_0xd87af4[_0x7accea(0x204)]){const _0x3a7b43=new webp[(_0x7accea(0x1f5))](),_0x7b7741={'sticker-pack-id':_0x7accea(0x206),'sticker-pack-name':_0xd87af4[_0x7accea(0x1e3)],'sticker-pack-publisher':_0xd87af4[_0x7accea(0x204)],'emojis':_0xd87af4[_0x7accea(0x1f9)]?_0xd87af4[_0x7accea(0x1f9)]:['']},_0x424cdf=Buffer[_0x7accea(0x205)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x276bd9=Buffer['from'](JSON['stringify'](_0x7b7741),_0x7accea(0x1eb)),_0x465fa1=Buffer[_0x7accea(0x1e7)]([_0x424cdf,_0x276bd9]);return _0x465fa1[_0x7accea(0x1e9)](_0x276bd9[_0x7accea(0x208)],0xe,0x4),await _0x3a7b43['load'](_0x2fb74d),fs[_0x7accea(0x1e6)](_0x2fb74d),_0x3a7b43['exif']=_0x465fa1,await _0x3a7b43[_0x7accea(0x1f4)](_0x2e9a9c),_0x2e9a9c;}}async function writeExifVid(_0xb14760,_0x3e2b69){const _0x525fea=_0x4f6028;let _0x46eac5=await videoToWebp(_0xb14760);const _0x4ffc90=path['join'](tmpdir(),Crypto[_0x525fea(0x1f3)](0x6)[_0x525fea(0x202)](0x0,0x6)[_0x525fea(0x1ff)](0x24)+_0x525fea(0x1f6)),_0x1352f1=path[_0x525fea(0x1da)](tmpdir(),Crypto[_0x525fea(0x1f3)](0x6)[_0x525fea(0x202)](0x0,0x6)['toString'](0x24)+_0x525fea(0x1f6));fs[_0x525fea(0x1f1)](_0x4ffc90,_0x46eac5);if(_0x3e2b69[_0x525fea(0x1e3)]||_0x3e2b69[_0x525fea(0x204)]){const _0x23b00f=new webp[(_0x525fea(0x1f5))](),_0xb7ea35={'sticker-pack-id':_0x525fea(0x206),'sticker-pack-name':_0x3e2b69['packname'],'sticker-pack-publisher':_0x3e2b69[_0x525fea(0x204)],'emojis':_0x3e2b69[_0x525fea(0x1f9)]?_0x3e2b69[_0x525fea(0x1f9)]:['']},_0x42af2b=Buffer[_0x525fea(0x205)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5be925=Buffer[_0x525fea(0x205)](JSON['stringify'](_0xb7ea35),_0x525fea(0x1eb)),_0x3e73e5=Buffer[_0x525fea(0x1e7)]([_0x42af2b,_0x5be925]);return _0x3e73e5[_0x525fea(0x1e9)](_0x5be925[_0x525fea(0x208)],0xe,0x4),await _0x23b00f['load'](_0x4ffc90),fs[_0x525fea(0x1e6)](_0x4ffc90),_0x23b00f['exif']=_0x3e73e5,await _0x23b00f[_0x525fea(0x1f4)](_0x1352f1),_0x1352f1;}}async function writeExif(_0x4bba0c,_0x587b43){const _0x317150=_0x4f6028;let _0xabc98b=/webp/[_0x317150(0x1de)](_0x4bba0c[_0x317150(0x1df)])?_0x4bba0c[_0x317150(0x1ed)]:/image/['test'](_0x4bba0c['mimetype'])?await imageToWebp(_0x4bba0c[_0x317150(0x1ed)]):/video/['test'](_0x4bba0c['mimetype'])?await videoToWebp(_0x4bba0c[_0x317150(0x1ed)]):'';const _0x41f525=path[_0x317150(0x1da)](tmpdir(),Crypto['randomBytes'](0x6)[_0x317150(0x202)](0x0,0x6)['toString'](0x24)+_0x317150(0x1f6)),_0x28e5b6=path[_0x317150(0x1da)](tmpdir(),Crypto['randomBytes'](0x6)[_0x317150(0x202)](0x0,0x6)['toString'](0x24)+_0x317150(0x1f6));fs[_0x317150(0x1f1)](_0x41f525,_0xabc98b);if(_0x587b43[_0x317150(0x1e3)]||_0x587b43[_0x317150(0x204)]){const _0x167d18=new webp[(_0x317150(0x1f5))](),_0x521015={'sticker-pack-id':_0x317150(0x206),'sticker-pack-name':_0x587b43[_0x317150(0x1e3)],'sticker-pack-publisher':_0x587b43['author'],'emojis':_0x587b43[_0x317150(0x1f9)]?_0x587b43['categories']:['']},_0x4c8eb9=Buffer[_0x317150(0x205)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x10b2ca=Buffer[_0x317150(0x205)](JSON[_0x317150(0x1d9)](_0x521015),'utf-8'),_0xe37627=Buffer[_0x317150(0x1e7)]([_0x4c8eb9,_0x10b2ca]);return _0xe37627[_0x317150(0x1e9)](_0x10b2ca[_0x317150(0x208)],0xe,0x4),await _0x167d18[_0x317150(0x1fd)](_0x41f525),fs[_0x317150(0x1e6)](_0x41f525),_0x167d18[_0x317150(0x1d5)]=_0xe37627,await _0x167d18['save'](_0x28e5b6),_0x28e5b6;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};